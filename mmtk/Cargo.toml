[package]
name = "mmtk_openjdk"
version = "0.2.0"
authors = [" <>"]

[lib]
name = "mmtk_openjdk"
# be careful - LTO is only allowed for certain crate types
crate-type = ["cdylib"]

[profile.release]
lto = true

[dependencies]
libc = "0.2"
lazy_static = "1.1"
# Be very careful to commit any changes to the following mmtk dependency, as our CI scripts (including mmtk-core CI)
# rely on matching these lines to modify them: e.g. change ssh to https with token or comment out the git dependency
# and use the local path.
# These changes are safe:
# - change branch
# - change repo name
# But other changes including adding/removing whitespaces in commented lines may break the CI.
# mmtk = { git = "ssh://git@github.com/mmtk/mmtk-core.git", rev = "f93f50fe8e48c2f4765e84f02f58b370bf4f4348" }
# Uncomment the following to build locally
mmtk = { path = "../../mmtk-core" }

[features]
default = []
nogc = ["mmtk/nogc"]
nogc_lock_free = ["mmtk/nogc_lock_free"]
nogc_no_zeroing = ["mmtk/nogc_no_zeroing"]
semispace = ["mmtk/semispace"]
gencopy = ["mmtk/gencopy"]
marksweep = ["mmtk/marksweep"]
ms_mimalloc = ["mmtk/ms_mimalloc"]
ms_jemalloc = ["mmtk/ms_jemalloc"]
ms_libc = ["mmtk/ms_libc"]
ms_hoard = ["mmtk/ms_hoard"]    
ms_scalloc = ["mmtk/ms_scalloc"]
ga_mimalloc = ["mmtk/ga_mimalloc"]
ga_jemalloc = ["mmtk/ga_jemalloc"]
ga_libc = ["mmtk/ga_libc"]
ga_hoard = ["mmtk/ga_hoard"]    
ga_scalloc = ["mmtk/ga_scalloc"]